<!-- Hero Banner Section -->
<section class="hero-banner">
  <img src="https://images.unsplash.com/photo-1560472354-b33ff0c44a43?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80" 
       alt="Contact HomeIQ" 
       class="hero-banner-image">
  <div class="hero-banner-overlay">
    <div class="hero-banner-content container">
      <h1 class="hero-banner-title">Send Us a Message</h1>
      <div class="hero-banner-subtitle">Get in touch with our team for inquiries, suggestions, or trade recommendations</div>
    </div>
  </div>
</section>

<!-- Contact Form Section -->
<section class="contact-section">
  <div class="container">
    <div class="section-header">
      <h2>How Can We Help You?</h2>
      <p class="section-subtitle">Fill out the form below and we'll get back to you as soon as possible.</p>
    </div>
    
    <div class="contact-form-container">
      <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact-form">
        <!-- Personal Information -->
        <div class="form-section">
          <h3 class="form-section-title">Personal Information</h3>
          
          <div class="form-row">
            <div class="form-group">
              <label for="firstName">First Name *</label>
              <input 
                type="text" 
                id="firstName" 
                formControlName="firstName"
                placeholder="Your first name"
                [class.error]="showError('firstName')">
              <div class="error-message" *ngIf="showError('firstName')">
                Please enter your first name
              </div>
            </div>
            
            <div class="form-group">
              <label for="lastName">Last Name *</label>
              <input 
                type="text" 
                id="lastName" 
                formControlName="lastName"
                placeholder="Your last name"
                [class.error]="showError('lastName')">
              <div class="error-message" *ngIf="showError('lastName')">
                Please enter your last name
              </div>
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="email">Email Address *</label>
              <input 
                type="email" 
                id="email" 
                formControlName="email"
                placeholder="you@example.com"
                [class.error]="showError('email')">
              <div class="error-message" *ngIf="showError('email')">
                Please enter a valid email address
              </div>
            </div>
            
            <div class="form-group">
              <label for="phone">Phone Number</label>
              <input 
                type="tel" 
                id="phone" 
                formControlName="phone"
                placeholder="(403) 555-0123">
            </div>
          </div>
        </div>
        
        <!-- Inquiry Type -->
        <div class="form-section">
          <h3 class="form-section-title">Inquiry Details</h3>
          
          <div class="form-group">
            <label for="inquiryType">How can we help? *</label>
            <select 
              id="inquiryType" 
              formControlName="inquiryType"
              (change)="onInquiryTypeChange($event)"
              [class.error]="showError('inquiryType')">
              <option value="">Select an option</option>
              <option value="request-trades">Request 3 Trades options</option>
              <option value="contribute-blog">Contribute a Blog</option>
              <option value="feedback">Feedback</option>
              <option value="general">General Inquiry</option>
              <option value="partnership">Partnership Opportunity</option>
            </select>
            <div class="error-message" *ngIf="showError('inquiryType')">
              Please select how we can help you
            </div>
          </div>
          
          <!-- Trade Category Dropdown (conditionally shown) -->
          <div class="form-group" *ngIf="showTradeCategory">
            <label for="tradeCategory">Select Trade Category *</label>
            <select 
              id="tradeCategory" 
              formControlName="tradeCategory"
              (change)="onTradeCategoryChange($event)"
              [class.error]="showError('tradeCategory')">
              <option value="">Select a trade category</option>
              <option value="A">A - Appliance Repair to Asphalt</option>
              <option value="B">B - Basement to Bricklayer</option>
              <option value="C">C - Cabinet to Countertop</option>
              <option value="D">D - Deck to Drywall</option>
              <option value="E">E - Electrician to Eavestrough</option>
              <option value="F">F - Fence to Foundation</option>
              <option value="G">G - Garage to General Contractor</option>
              <option value="H">H - Handyman to Home Inspector</option>
              <option value="I">I - Insulation to Irrigation</option>
              <option value="J">J - Junk Removal</option>
              <option value="K">K - Kitchen Renovation</option>
              <option value="L">L - Landscape to Locksmith</option>
              <option value="M">M - Masonry to Mold Remediation</option>
              <option value="O">O - Outdoor Lighting</option>
              <option value="P">P - Painter to Plumber</option>
              <option value="R">R - Radon to Roofer</option>
              <option value="S">S - Siding to Structural Repair</option>
              <option value="T">T - Tiler to Tree Service</option>
              <option value="U">U - Upholstery Cleaner</option>
              <option value="V">V - Ventilation Contractor</option>
              <option value="W">W - Waste to Window Installer</option>
              <option value="Y">Y - Yard Maintenance</option>
            </select>
            <div class="error-message" *ngIf="showError('tradeCategory')">
              Please select a trade category
            </div>
          </div>
          
          <!-- Specific Trade Dropdown (conditionally shown) -->
          <div class="form-group" *ngIf="showSpecificTrade">
            <label for="specificTrade">Select Specific Trade *</label>
            <select 
              id="specificTrade" 
              formControlName="specificTrade"
              [class.error]="showError('specificTrade')">
              <option value="">Select a specific trade</option>
              <option *ngFor="let trade of filteredTrades" [value]="trade.value">
                {{ trade.label }}
              </option>
            </select>
            <div class="error-message" *ngIf="showError('specificTrade')">
              Please select a specific trade
            </div>
          </div>
        </div>
        
        <!-- Message -->
        <div class="form-section">
          <h3 class="form-section-title">Your Message</h3>
          
          <div class="form-group">
            <label for="message">Message *</label>
            <textarea 
              id="message" 
              formControlName="message" 
              rows="6"
              placeholder="Please provide details about your inquiry..."
              [class.error]="showError('message')"></textarea>
            <div class="error-message" *ngIf="showError('message')">
              Please enter your message (minimum 20 characters)
            </div>
            <div class="char-count">
              {{ contactForm.get('message')?.value?.length || 0 }}/1000 characters
            </div>
          </div>
        </div>
        
        <!-- Additional Options -->
        <div class="form-section">
          <div class="form-group checkbox-group">
            <input 
              type="checkbox" 
              id="newsletter" 
              formControlName="newsletter">
            <label for="newsletter">
              Subscribe to our newsletter for updates and home improvement tips
            </label>
          </div>
          
          <div class="form-group checkbox-group">
            <input 
              type="checkbox" 
              id="agreeTerms" 
              formControlName="agreeTerms"
              [class.error]="showError('agreeTerms')">
            <label for="agreeTerms" class="required">
              I agree to the Terms of Service and Privacy Policy *
            </label>
            <div class="error-message" *ngIf="showError('agreeTerms')">
              You must agree to the terms and conditions
            </div>
          </div>
        </div>
        
        <!-- Submit Button -->
        <div class="form-submit">
          <button 
            type="submit" 
            class="button-primary button-large"
            [disabled]="contactForm.invalid || isSubmitting">
            {{ isSubmitting ? 'Sending...' : 'Send Message' }}
          </button>
          
          <p class="form-note">
            We typically respond within 24-48 hours during business days.
          </p>
        </div>
      </form>
      
      <!-- Success Message -->
      <div class="success-message" *ngIf="isSuccess">
        <div class="success-icon">‚úÖ</div>
        <h3>Message Sent Successfully!</h3>
        <p>Thank you for contacting us, {{ contactForm.value.firstName }}! We've received your message and will get back to you as soon as possible.</p>
        <p><strong>Reference ID:</strong> {{ referenceId }}</p>
        <div class="success-actions">
          <button class="button-secondary" (click)="resetForm()">Send Another Message</button>
          <a routerLink="/" class="button-link">Back to Home</a>
        </div>
      </div>
    </div>
    
    <!-- Contact Info Sidebar -->
    <div class="contact-info-sidebar" *ngIf="!isSuccess">
      <div class="info-card">
        <h3>Contact Information</h3>
        
        <div class="info-item">
          <div class="info-icon">üìß</div>
          <div>
            <h4>Email</h4>
            <p>info@home-iq.ca</p>
            <p class="info-note">For general inquiries</p>
          </div>
        </div>
        
        <div class="info-item">
          <div class="info-icon">‚è∞</div>
          <div>
            <h4>Response Time</h4>
            <p>24-48 hours</p>
            <p class="info-note">During business days</p>
          </div>
        </div>
        
        <div class="info-item">
          <div class="info-icon">üìç</div>
          <div>
            <h4>Based in Calgary</h4>
            <p>Serving homeowners and professionals across Alberta</p>
          </div>
        </div>
        
        <div class="info-tip">
          <h4>üí° Tips for a Better Response</h4>
          <ul>
            <li>Be specific about your needs</li>
            <li>Include relevant property details</li>
            <li>Mention your timeline if urgent</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>